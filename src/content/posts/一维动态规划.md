---
title: ä¸€ç»´åŠ¨æ€è§„åˆ’
published: 2024-11-01
description: 'ä¸€ç»´è§†è§’çš„åŠ¨æ€è§„åˆ’ï¼Œ dp?ç¼“å­˜è¡¨ï¼Ÿè‡ªé¡¶å‘ä¸‹ï¼Ÿè‡ªåº•å‘ä¸Šï¼Ÿä¸¥æ ¼ä½ç½®ä¾èµ–ï¼Ÿè·¯å¾„ä¾èµ–ï¼Ÿç©ºé—´å‹ç¼©ï¼Ÿè®°å¿†åŒ–æœç´¢ï¼Ÿ é‡å å­é—®é¢˜ï¼Ÿ æ— åæ•ˆæ€§ï¼Ÿ æœ€ä¼˜å­ç»“æ„ï¼ŸåŠ¨æ€è§„åˆ’çš„åºå¹•å¼€å§‹'
image: './guide/demo-dp1.jpg'
tags: [ä¸€ç»´åŠ¨æ€è§„åˆ’]
category: 'åŠ¨æ€è§„åˆ’'
draft: false 
lang: 'zh_CN'
---

:::note[é˜…è¯»ä»‹ç»]
> æœ¬ç¯‡æ˜¯åŠ¨æ€è§„åˆ’ä¸“é¢˜---ä¸€ç»´åŠ¨æ€è§„åˆ’çš„çŸ¥è¯†
> **ä»æš´åŠ›é€’å½’å…¥æ‰‹é€æ­¥å…¥æ‰‹ä¸€ç»´åŠ¨æ€è§„åˆ’ã€‚**
> 1. `åˆ·é¢˜ç½‘ç«™:æ´›è°·ï¼Œleetcode, ç‰›å®¢ç½‘`ã€‚ ç½‘ç«™é“¾æ¥è‡ªå¯»ï¼
> 2. `å‚è€ƒ: ã€Šç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—ã€‹ & ä»£ç éšæƒ³å½•ã€‚ æ¯é“é¢˜åæˆ‘éƒ½ä¼šé™„å¸¦é“¾æ¥ï¼Œ ä»£ç ä¼šä¸Šä¼ åˆ°GitHubä¸Š`
> 3. åŸºç¡€: ç¬”è€…åº”å½“ç†Ÿç»ƒ**é€’å½’ç®—æ³•**çš„ä½¿ç”¨ã€‚
> 4. ç¼–ç¨‹è¯­è¨€: **Java**---å€ŸåŠ©**chatgpt**è½¬æ¢æˆè‡ªå·±çš„è¯­è¨€å§ï¼
> 5. **IDEï¼šIntellij IDEAã€‚ ä¸»é¢˜: MonoKai pro ; å­—ä½“: Fira cod lightã€‚** Codingå¾ˆèˆ’æœ---è‡ªè¡Œå®‰è£…ç›¸å…³æ’ä»¶
>6. æ¶‰åŠå®¹å™¨: æ•°ç»„, å“ˆå¸Œè¡¨
>7. ç›®å‰è¯»è¿‡çš„æ•°æ®ç»“æ„å’Œç®—æ³•ä¹¦ç±ï¼šã€Šå¤§è¯æ•°æ®ç»“æ„ï¼ˆCè¯­è¨€ï¼‰ã€‹ï¼Œã€Šæ•°æ®ç»“æ„å’Œç®—æ³•åˆ†æï¼ˆJavaè¯­è¨€æè¿°ï¼‰ã€‹ï¼Œã€Šç®—æ³•å¯¼è®ºã€‹ï¼Œ ã€Šç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—ã€‹ã€‚
>8. æ©å¸ˆ:å·¦ç¨‹äº‘ã€‚ä¸‹é¢é¢˜ç›®é‡åˆ°ä»»ä½•çš„é—®é¢˜éƒ½å¯ä»¥è§‚çœ‹å¶åƒçš„è§†é¢‘è®²è§£è§£å†³-è‡ªè¡Œæœç´¢å¯¹åº”è§†é¢‘:[è¯¾ç¨‹é“¾æ¥å’Œä»£ç ä»“åº“<-](https://dreamkikiqiu.github.io/dreamkikiqiu/about/)
:::


:::tip[æç¤º]

- é¢˜ç›®é€šè¿‡000~999è¿›è¡Œç¼–å·ï¼Œ ä¸è¿‡ç½‘ç«™æš‚æœªæä¾›ç›®å½•ç»“æ„æ— æ³•å¿«é€Ÿå¯»æ‰¾ç›¸å…³é¢˜ç›®ï¼ˆä¸å¥½æ„æ€ï¼‰ğŸ¥²ã€‚
- æ ‡é¢˜å¯ä»¥ç‚¹å‡»è·³è½¬é¡µé¢ã€‚æ¯é“é¢˜éƒ½é…æœ‰ç›¸å…³é“¾æ¥ã€‚ å‡½æ•°é¢˜ä¸€èˆ¬æ˜¯leetcode, acmé£æ ¼æ˜¯ç‰›å®¢å’Œæ´›è°·çš„ã€‚ å¤„ç†è¾“å…¥è¾“å‡ºçš„é¢˜çš„ç±»é‡Œå¤šæ•°æœ‰mainå‡½æ•°å¯ä»¥è‡ªè¡Œè¿è¡Œæµ‹è¯•ã€‚
- æ¯é“é¢˜éƒ½å¯ä»¥ctrl + c, ctrl + væäº¤ã€‚**æ³¨æ„:ä¿®æ”¹ç±»åï¼Œ å‡½æ•°åï¼Œé€’å½’è°ƒç”¨å‡½æ•°;ä¸è¦æäº¤æ— å…³çš„ç±»ã€‚**
- æ€è€ƒå’Œcoding, å¹¶éé€Ÿåº¦å’Œacæ•°ç›®ã€‚ğŸ˜˜

:::

### åŠ¨æ€è§„åˆ’
åŠ¨æ€è§„åˆ’: **ç©ºé—´æ¢å–æ—¶é—´**ï¼Œ **è§£å†³å‡ºç°æ±‚è§£é‡å¤é€’å½’å­é—®é¢˜çš„è§£ã€‚ **

æ¯”å¦‚,æœ‰ä¸ªå‡½æ•°`f(array,i,j,ans)`æ±‚è§£è¿™ä¸ªé—®é¢˜ï¼Œ é‚£ä¹ˆå¦‚æœé€’å½’è¿‡ç¨‹ä¸­å‡ºç°äº†å‚æ•°å€¼å®Œå…¨ç›¸åŒçš„æƒ…å†µï¼Œ é‚£ä¹ˆè¿™å°±æ˜¯é‡å¤æ±‚è§£äº†ã€‚
åŠ¨æ€è§„åˆ’å°±æ˜¯é€šè¿‡ç©ºé—´æ¥é¿å…æ±‚è§£é‡å¤é—®é¢˜ï¼Œ
æš‚æ—¶è¯´åˆ°è¿™å„¿ã€‚
ä¸‹é¢ï¼Œ æ¥å®Œæˆåé¢çš„é¢˜ï¼Œé€æ­¥å±•å¼€æ„Ÿå—ã€‚

#### **001[æ–æ³¢é‚£å¥‘æ•°åˆ—](https://leetcode.cn/problems/fibonacci-number/)**

>æ–æ³¢é‚£å¥‘æ•°åˆ—é€šå¸¸è¡¨ç¤ºä¸º ï¼Œå®ƒF(n)å½¢æˆä¸€ä¸ªåºåˆ—ï¼Œç§°ä¸ºæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œå…¶ä¸­æ¯ä¸ªæ•°å­—éƒ½æ˜¯å‰ä¸¤ä¸ªæ•°å­—ä¹‹å’Œï¼Œä»0å’Œå¼€å§‹1ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ

$$
0, 1, 1, 2, 3, 5, 8, 13, 21, 34...
  , { æ»¡è¶³ f(0) = 0, f(1) = 1, 
f(n) = f(n-1) + f(n-2), n > 1.}
$$

æ–æ³¢é‚£å¥‘æ•°åˆ—çš„æœ‰ä¸‰ç§æ—¶é—´å¤æ‚åº¦çš„è§£$O(2^n), O(n), O(logn)ã€‚$
åˆå­¦è€…ä¸€èˆ¬å­¦è¿‡æ–æ³¢é‚£å¥‘æ•°åˆ—çš„æŒ‡æ•°å’Œçº¿æ€§æ—¶é—´çš„è§£æ³•ã€‚å¯¹æ•°æ—¶é—´æ˜¯çŸ©é˜µå¿«é€Ÿå¹‚çš„è§£æ³•ï¼Œ è¿™ä¸ªæ˜¯æœ€ä¼˜è§£(å¿«é€Ÿå¹‚ç¯‡å¹…å†è¯´)ã€‚

`è§£æ³•ä¸€:`
```java
 //æäº¤æ—¶å‡½æ•°å-> fib
    public static int fib1(int n){
        if(n==0){
            return 0;
        }
        else if(n==1){
            return 1;
        }
        else{
            //n > 1ç”±æ–æ³¢é‚£å¥‘æ•°åˆ—çš„é€’æ¨å…¬å¼
            return fib1(n-1) + fib1(n-2);
        }
    }
```
è¿™ç§è§£æ³•ä¼°è®¡æ˜¯å¤§å¤šæ•°æœ‹å‹ç†Ÿæ‚‰çš„ä¸€ç§å†™æ³•ï¼Œ å®ƒæ˜¯æœ€ä¼˜è§£å—ï¼Ÿ
ä¸æ˜¯ï¼Œ å®ƒæ˜¯æœ€å·®çš„$O(2^n)$çš„æ—¶é—´å¤æ‚åº¦ã€‚
è¿™é—®é¢˜å°±åœ¨äºå¯¹äº`f(n)`,`f(n-1)`å‡è¦æ±‚è§£`f(n-2)`, ä½†æ˜æ˜¾è®¡ç®—æœºä¸çŸ¥é“ä¹‹å‰æ±‚è¿‡äº†ï¼Œ è¿›è¡Œå¤§é‡çš„é‡å¤å­é—®é¢˜è®¡ç®—ã€‚
![alt text](image-6.png)
ä»é€’å½’æ ‘è§’åº¦åˆ†æï¼Œ å®ƒçš„æœ€é•¿è·¯å¾„æ˜¯`n`ï¼Œæœ€çŸ­è·¯å¾„`n/2`ï¼Œ ç”±æ”¾ç¼©æ³•å¯è¿‘ä¼¼è®¤ä¸ºï¼Œ å®ƒæ—¶é—´å¤æ‚åº¦åŸºäºé«˜åº¦ä¸º`n/2`å’Œ`n`çš„é€’å½’æ ‘ä¹‹é—´ï¼Œ å¯ä»¥è®¤ä¸ºæ—¶é—´å¤æ‚åº¦å°±æ˜¯æŒ‡æ•°çº§ï¼Œ è€Œå¹¶éæƒ³è±¡ä¸­çš„çº¿æ€§æ—¶é—´ã€‚


æˆ‘ä»¬å¦‚ä½•é¿å…é‡å¤æ±‚è§£ï¼Ÿ
è®¡ç®—æœºä¸ä¼šè®°ä½ï¼Œ ä½†æˆ‘ä»¬å¯ä»¥æ”¾ä¸€ä¸ªè¡¨ä¸Šå‘Šè¯‰å®ƒå“ªäº›æ•°æ®ä¹‹å‰æ±‚è¿‡å¯ä»¥ä¹‹é—´"æ‹¿", å“ªäº›æ•°æ®éœ€è¦æ±‚è§£ã€‚
è¿™ç§æŠ€å·§è¢«ç§°ä¹‹ä¸º**è®°å¿†åŒ–æœç´¢ï¼Œ è®°å¿†åŒ–dfsï¼ˆè®°å¿†åŒ–é€’å½’ï¼‰**ã€‚ç›¸æ¯”è§£æ³•1ï¼Œ æ— è„‘dfsç–¯ç‹‚åœ°æ±‚è§£é‡å¤å­é—®é¢˜ï¼Œ å¤ªç³Ÿç³•äº†ï¼ã€‚ 
è¿™ç§æ—¶é—´å¤æ‚åº¦æ˜¯$O(n)$.ä¸ºä»€ä¹ˆï¼Ÿç›¸å½“äº**é€’å½’å‰ªæ**ã€‚

è¿™ç§è§£æ³•ä¸é€’å½’ç´§å¯†ç›¸è¿ï¼Œ ä¸€æ—¦å†™å‡ºé€’å½’æ±‚æ³•æ”¹æˆè®°å¿†åŒ–æœç´¢éå¸¸å®¹æ˜“ã€‚
ä¸‹é¢æ˜¯è§£æ³•äºŒçš„æµç¨‹
`è§£æ³•äºŒ:è®°å¿†åŒ–æœç´¢:`
å‰é¢æè¿‡è¦ç”¨è¡¨å­˜å‚¨æ±‚è§£è¿‡å­é—®é¢˜çš„å€¼ã€‚
è¡¨å…·ä½“æ˜¯ä»€ä¹ˆï¼Ÿ **æ•°ç»„æˆ–è€…å“ˆå¸Œè¡¨ï¼**

ç”±äºè¦å­˜å‚¨æ¯ä¸ªå­é—®é¢˜çš„å€¼ï¼Œ é‚£ä¹ˆéœ€è¦å¤šå¤§çš„æ•°ç»„æˆ–è€…å“ˆå¸Œè¡¨å‘¢ï¼Ÿ
ä»¥è¿™é“é¢˜è¯´æ˜ï¼Œ æˆ‘ä»¬è¦æ±‚è§£`fib(n)`, é‚£ä¹ˆè¦å­˜å‚¨ç¬¬`0,1,2,...n-1,n`çš„å­é—®é¢˜çš„å€¼ï¼Œ å‚æ•°ä¸ºnå°±æ˜¯æœ€ç»ˆæ±‚è§£çš„å€¼ã€‚

1. ç¡®å®šè¡¨çš„ç»´åº¦å’Œå¤§å°ï¼Œ è¿™é‡Œæ˜¯ä¸€ç»´æ•°ç»„å’Œ`n+1`çš„é•¿åº¦ã€‚
2. åˆå§‹åŒ–`ç¼“å­˜è¡¨`, æŒ‡å®šå®ƒä»¬ä¸ºä¸€ä¸ªæ— æ•ˆå€¼(-1, å–å†³äºæ˜¯å¦å¯¹æ±‚è§£é—®é¢˜æœ¬èº«æœ‰å½±å“)ã€‚
3. å¦‚æœè¡¨ä¸­å­˜å…¥å¯¹åº”å­é—®é¢˜çš„è§£ï¼Œ ç›´æ¥å–å€¼ã€‚ å¦åˆ™ï¼Œåœ¨æ±‚è§£å­é—®é¢˜è¿‡ç¨‹åŠ å…¥å°†è§£å†™å…¥è¡¨çš„é¢å¤–æ­¥éª¤ã€‚

```java
//è§£æ³•äºŒï¼›æäº¤æ—¶å‡½æ•°å-> fib
    public static int fib2(int n){
        int[] dp = new int[n+1];
        Arrays.fill(dp,-1);
        f(n,dp);
        return dp[n];
    }

    public static int f(int n,int[] dp){
        if(n==0){
            return 0;
        }
        if(n==1){
            return 1;
        }
        int ans = f(n-1,dp) + f(n-2,dp);
        dp[n] = ans;
        return ans;
    }
```

å½“få‡½æ•°çš„å‚æ•°ä¸ä¹‹å‰æ±‚è§£è¿‡çš„å®Œå…¨ç›¸åŒï¼Œ é‚£ä¹ˆè¯´æ˜è¿™ä¸ªé—®é¢˜æ±‚è§£è¿‡ã€‚ ç›´æ¥è¯»è¡¨ï¼Œ é¿å…äº†é‡å¤é€’å½’è°ƒç”¨çš„è¿‡ç¨‹ï¼ŒèŠ‚çœæ—¶é—´äº†ã€‚

ä½†æœ‰å¿…è¦è¿™ä¹ˆéº»çƒ¦å—ï¼Ÿæ–æ³¢é‚£å¥‘æ•°åˆ—å·²çŸ¥å‰ä¸¤é¡¹0ï¼Œ1å¯ä»¥æ¨å‡ºç¬¬ä¸‰é¡¹ã€‚ å·²çŸ¥å‰ä¸¤é¡¹ï¼Œ æ¨å‡ºä¸‹ä¸€é¡¹æ˜¯éå¸¸å®¹æ˜“çš„ã€‚
é‚£å¥½ï¼Œå¯ä»¥æä¸€ä¸ªdpè¡¨ã€‚åˆå§‹åŒ–å‰ä¸¤é¡¹ï¼Œ ç„¶åå¾ªç¯ä¾æ¬¡æ¨å‡ºç¬¬né¡¹çš„æœ€ä¼˜è§£ã€‚
`è§£æ³•3`
```java
public static int fib3(int n){
        if(n==0){
            return 0;
        }
        if(n==1){
            return 1;
        }
        int[] dp = new int[n+1];
        dp[0] = 0;
        dp[1] = 1;
        for(int i=2;i<=n;i++){
            dp[i]=dp[i-1]+dp[i-2];
        }
        return dp[n];
    }
```

æ²¡å¿…è¦åƒè§£æ³•3å¼€ä¸€ä¸ªn+1é•¿åº¦çš„dpè¡¨ã€‚
`dp[i]=dp[i-1]+dp[i-2];`, åªéœ€è¦3ä¸ªæ»šåŠ¨æ›´æ–°çš„å˜é‡å³å¯ã€‚`cur,last,lastLast`å¸¸æ•°ä¸ªç©ºé—´å³å¯å®Œæˆã€‚
è¿™å°±æ˜¯çº¿æ€§æ—¶é—´ä¸”çœç©ºé—´çš„åšæ³•
`è§£æ³•4`:
```java
 //è§£æ³•4 çº¿æ€§æ—¶é—´ä¸”çœç©ºé—´çš„æœ€ä¼˜è§£ã€‚
    public static int fib4(int n){
        if(n==0){
            return 0;
        }
        if(n==1){
            return 1;
        }
        int lastLast = 0;
        int last = 1;
        int cur = 0;
        for(int i=2;i<=n;i++){
            //æ±‚è§£ç­”æ¡ˆ
            cur = lastLast + last;

            //ä¸ºä¸€æ¬¡æ±‚è§£æ»šåŠ¨æ›´æ–°
            lastLast = last;
            last = cur;
        }
        return cur;
    }

```

è¿˜æœ‰ä¸€ç§é€šé¡¹å…¬å¼æ³•ï¼Œ æ–æ³¢é‚£å¥‘æ•°åˆ—æœ‰é€šé¡¹å…¬å¼ï¼Œ å¯ä»¥æ ¹æ®å®ƒçš„æ•°å­¦è¡¨è¾¾å¼ç”¨`sqrt`,`pow`å‡½æ•°æ±‚è§£ï¼Œ ä¸è¿‡ç”±äºå…¶æœ¬èº«æ˜¯æµ®ç‚¹æ•°ï¼Œ å®¹æ˜“ä¸¢å¤±ç²¾åº¦ã€‚å¦å¤–,å®ƒçš„æ—¶é—´å¤æ‚åº¦ä¸æ˜¯$O(1)$ï¼Œ å…¶å®ä¹Ÿæ˜¯ç”¨äº†`çŸ©é˜µå¿«é€Ÿå¹‚`çš„æ–¹æ³• $O(logn)$, å› æ­¤è¿™ç§æ–¹æ³•å¯ä»¥å¿½ç•¥ï¼Œ å»å­¦ä¹ çŸ©é˜µå¿«é€Ÿå¹‚çš„æ–¹æ³•å³å¯ï¼Œ æœ¬ç¯‡ä¸æ¶‰åŠã€‚


#### **002[æœ€ä½ç¥¨ä»·](https://leetcode.cn/problems/minimum-cost-for-tickets/description/)**
> æœ€ä½ç¥¨ä»·
 åœ¨ä¸€ä¸ªç«è½¦æ—…è¡Œå¾ˆå—æ¬¢è¿çš„å›½åº¦ï¼Œä½ æå‰ä¸€å¹´è®¡åˆ’äº†ä¸€äº›ç«è½¦æ—…è¡Œ
 åœ¨æ¥ä¸‹æ¥çš„ä¸€å¹´é‡Œï¼Œä½ è¦æ—…è¡Œçš„æ—¥å­å°†ä»¥ä¸€ä¸ªåä¸º days çš„æ•°ç»„ç»™å‡º
 æ¯ä¸€é¡¹æ˜¯ä¸€ä¸ªä» 1 åˆ° 365 çš„æ•´æ•°
 ç«è½¦ç¥¨æœ‰ ä¸‰ç§ä¸åŒçš„é”€å”®æ–¹å¼
 ä¸€å¼  ä¸ºæœŸ1å¤© çš„é€šè¡Œè¯å”®ä»·ä¸º costs[0] ç¾å…ƒ
 ä¸€å¼  ä¸ºæœŸ7å¤© çš„é€šè¡Œè¯å”®ä»·ä¸º costs[1] ç¾å…ƒ
 ä¸€å¼  ä¸ºæœŸ30å¤© çš„é€šè¡Œè¯å”®ä»·ä¸º costs[2] ç¾å…ƒ
 é€šè¡Œè¯å…è®¸æ•°å¤©æ— é™åˆ¶çš„æ—…è¡Œ.

ä¸¾ä¾‹:
>è¾“å…¥ï¼š days = [1,4,6,7,8,20], cost = [2,7,15]
è¾“å‡ºï¼š 11
è§£é‡Šï¼šä¾‹å¦‚ï¼Œè¿™é‡Œæœ‰ä¸€ç§è´­ä¹°é€šç¥¨çš„æ–¹å¼ï¼Œå¯ä»¥è®©ä½ æŒ‰ç…§è‡ªå·±çš„æ—…è¡Œè®¡åˆ’å‡ºè¡Œï¼š
ç¬¬ 1 å¤©ï¼Œæ‚¨è´­ä¹°äº† 1 æ—¥é€šç¥¨ï¼Œä»·æ ¼ä¸º cost[0] = $2ï¼Œæ¶µç›–ç¬¬ 1 å¤©çš„è´¹ç”¨ã€‚
ç¬¬ 3 å¤©ï¼Œæ‚¨è´­ä¹°äº† 7 å¤©é€šç¥¨ï¼Œè´¹ç”¨ä¸º cost[1] = 7 ç¾å…ƒï¼Œæ¶µç›–ç¬¬ 3ã€4ã€...ã€9 å¤©ã€‚
ç¬¬ 20 å¤©ï¼Œæ‚¨è´­ä¹°äº† 1 æ—¥é€šç¥¨ï¼Œä»·æ ¼ä¸º cost[0] = $2ï¼Œæ¶µç›–ç¬¬ 20 å¤©ã€‚
æ€»è®¡æ‚¨èŠ±è´¹äº† 11 ç¾å…ƒï¼Œæ¶µç›–äº†æ‰€æœ‰æ—…è¡Œå¤©æ•°ã€‚

`[1,4,6,7,8,20]`
æœ‰ä¸‰ç§ç¥¨ä»·å¯ä»¥å¸®åŠ©ç»´æŒå¯¹åº”çš„å¤©æ•°ã€‚
ç¬¬ä¸€ç§ç¥¨ä»·ï¼Œä¸ºæœŸä¸€å¤©ï¼Œ å¯ä»¥å¸®åŠ©ä½ åº¦è¿‡ä¸€å¤©ã€‚
ç¬¬äºŒç§ç¥¨ä»·ï¼Œä¸ºæœŸ7å¤©ï¼Œä»ä½ å½“å‰å¤©å‡ºå‘ï¼Œ æ¯”å¦‚ä½ ä»ç¬¬ä¸€å¤©ä¹°äº†ä¸ºæœŸ7å¤©çš„ç¥¨ï¼ŒæŒç»­`[1,6]`çš„é—­åŒºé—´ï¼Œ åˆšå¥½7å¤©ã€‚
ç¬¬ä¸‰ç§ç¥¨ä»·ã€‚ä¸ºæœŸ30å¤©ã€‚å¯¹äºè¿™ä¸ªæ ·ä¾‹ï¼Œä»ç¬¬ä¸€å¤©å¼€å§‹ç›´æ¥ä¹°30å¤©çš„ç›´æ¥ä¸è¦è€ƒè™‘åç»­å¤©çš„ä¹°ç¥¨äº†ï¼Œ æ•´ä¸ªæ—…è¡Œçš„ç¥¨ä»·å°±æ˜¯è¿™ä¸ªã€‚

`æš´åŠ›é€’å½’å¿…å®šè¶…æ—¶`
```java
 public static int[] durations = new int[]{1, 7, 30};
    //é€’å½’æ–¹æ³•
    //æäº¤æ—¶ä¿®æ”¹å‡½æ•°å-> mincostTickets ps:æš´åŠ›é€’å½’æ— æ³•é€šè¿‡
    public static int mincostTickets(int[] days, int[] costs) {
        //få‡½æ•°è¡¨ç¤ºä»days[0]å‡ºå‘åˆ°daysæ•°ç»„æ—…è¡Œç»“æŸè¦å¤šå°‘å¤©ã€‚
        //fé¦–å…ˆä»0å¤„å¼€å§‹
        return f(days,0,costs);
    }

    public static int f(int[] days,int cur,int[] costs){
        //å½“æ—…è¡Œåˆ°daysè¾¹ç•Œï¼Œ é‚£ä¹ˆæ²¡æœ‰å¼€é”€äº†ã€‚ é€’å½’åŸºçº¿æ¡ä»¶
        if(cur>=days.length){
            return 0;
        }

        //ä¸‹é¢å¼€å§‹æ±‚ä¸‰ç§costsæ–¹æ¡ˆçš„æœ€å°å€¼
        //å¾ªç¯éå†ä¸‰æ¬¡å³å¯ã€‚æšä¸¾ä¸‰æ¬¡

        //ansåˆå§‹ä¸ºç³»ç»Ÿæœ€å¤§å€¼
        int ans = Integer.MAX_VALUE;
        for(int k=0, j = cur;k<3;k++){

            //ä¾æ¬¡æ ¹æ®ä¸‰ç§æ–¹æ¡ˆï¼Œ ç¡®è®¤daysä¸­é€’å½’å‡½æ•°å¯¹åº”ç´¢å¼•å¤„ã€‚
            while(j < days.length && days[cur] + durations[k] > days[j]){
                j++;
            }

            //æ¯”è¾ƒ
            ans = Math.min(ans, costs[k] + f(days, j, costs));
        }
        return ans;
    }
```

è¶…æ—¶çš„åŸå› ï¼Œ æˆ‘åªæ˜¯ç®€å•é˜è¿°ã€‚ åŸå› åœ¨äºä¸‰ç§æ–¹æ¡ˆå¯èƒ½ä¼šå¤šæ¬¡é€’å½’è°ƒç”¨åŒä¸€ä¸ªå‚æ•°çš„å‡½æ•°ã€‚ æ¯”å¦‚é€‰æ‹©æ–¹æ¡ˆä¸€å’Œé€‰æ‹©æ–¹æ¡ˆäºŒå‡ºç°äº†é‡å¤çš„jï¼Œä¸Šé¢ä¾‹å­ä¸­çš„få‡½æ•°daysï¼Œcostsæ•°ç»„æ˜¯å›ºå®šçš„ï¼Œå”¯ä¸€å˜é‡æ˜¯jã€‚

é‡å¤é€’å½’åœ°æ±‚è§£å­é—®é¢˜æ˜¯ä¸€ç§è½çš„åšæ³•ï¼Œ ä½†ä¸å¯å¦è®¤å®ƒéå¸¸å¥½æƒ³ã€‚
é€’å½’è§£æ³•å¯¹åº”äº†åŠ¨æ€è§„åˆ’ä¸­çš„è®°å¿†åŒ–æœç´¢æŠ€å·§ã€‚
éå¸¸å¥½æ”¹ã€‚

`è®°å¿†åŒ–dfs`:
```java
//å•ç‹¬æäº¤è¿™ä¸ªè§£æ³•ï¼Œ å–æ¶ˆä¸‹é¢durationsæ•°ç»„çš„æ³¨é‡Š

    //public static int[] durations = new int[]{1, 7, 30};
    //æš´åŠ›é€’å½’->åŠ¨æ€è§„åˆ’ã€
    //æäº¤æ—¶ä¿®æ”¹å‡½æ•°å mincostTickets
    public static int mincostTickets2(int[] days, int[] costs) {
        //ç¡®å®šdpè¡¨çš„ç»´åº¦å’ŒèŒƒå›´
        int[] dp = new int[days.length];
        //åˆå§‹åŒ–ä¸ºä¸€ä¸ªæ— æ•ˆå€¼
        Arrays.fill(dp,-1);
        return f1(days,0,costs, dp);//å¸¦ç€ç¼“å­˜è¡¨ä¸€èµ·ï¼ˆä¼ å‚ï¼‰
    }

    public static int f1(int[] days,int cur,int[] costs,int[] dp){
        if(cur >= days.length){
            return 0;
        }
        //å…ˆå‰å­˜å‚¨è¿‡ï¼Œ é‚£ä¹ˆç›´æ¥è¯»è¡¨
        if(dp[cur] != -1){
            return dp[cur];
        }
        //å¦åˆ™ï¼Œ åœ¨æš´åŠ›é€’å½’åœ°è¿‡ç¨‹ä¸­åŠ å…¥å†™å…¥dpè¡¨çš„æ­¥éª¤
        int ans = Integer.MAX_VALUE;
        for(int k=0, j = cur;k<3;k++){
            while(j<days.length && days[cur] + durations[k] > days[j]) j++;
            ans = Math.min(ans, costs[k] + f1(days,j,costs,dp));
        }
        dp[cur] = ans;
        return ans;
    }
```


è°ˆè°ˆæœ€åä¸€ç§è§£æ³•ï¼Œ ä½ç½®ä¾èµ–å’Œè‡ªåº•å‘ä¸Šçš„æ±‚æ³•ã€‚
å…ˆæ‰¾ä¸€ä¸ªåˆå§‹å€¼ï¼Œ æ€ä¹ˆæ‰¾ï¼Ÿä»å‰é¢çš„é€’å½’åŸºæœ¬æ¡ä»¶æ‰¾ã€‚
```java
 if(cur >= days.length){
    return 0;
}
```
è¿™è¡¨ç¤ºdaysæ•°ç»„èµ°å®Œäº†ï¼Œ é‚£ä¹ˆä¸éœ€è¦å¼€é”€äº†ã€‚ å³èŠ±è´¹0ã€‚
åªä¿ç•™ç›¸ç­‰çš„æƒ…å†µï¼Œ å½“æ•°ç»„åœ¨ç¬¬days.lengthå¤©çš„æƒ…å†µ, æœ€ä½èŠ±è´¹ä¸º0.
é‚£ä¹ˆåœ¨å‰ä¸€å¤©çš„æœ€ä½èŠ±è´¹æ˜¯ä¸æ˜¯å¾ˆå¥½æ±‚ï¼Œ æšä¸¾ä¸‰ç§æ–¹æ¡ˆæ‰¾åˆ°ä»`days.length-1`åˆ°`days.length`çš„æœ€ä½è´¹ç”¨ï¼Œ è€Œdays.lengthçš„æœ€ä½è´¹ç”¨æ˜¯0,ä¸éœ€è¦æ±‚äº†ã€‚

å› æ­¤ä½ç½®ä¾èµ–çš„è¿­ä»£åŠ¨æ€è§„åˆ’å†™æ³•ï¼Œ æ˜¯é€†åºæ±‚çš„ã€‚
```java
//è§£æ³•3
    //è¿­ä»£è‡ªåº•å‘ä¸‹çš„ä½ç½®ä¾èµ–æ–¹æ³•
    public static int mincostTickets3(int[] days,int[] costs){
        int n = days.length;
        //æ­¤æ—¶dpè¡¨çš„å«ä¹‰è¡¨ç¤º: ä»å½“å‰daysç´¢å¼•iå¤„å‡ºå‘å®Œç»“æ—…è¡Œçš„æœ€ä½è´¹ç”¨
        int[] dp = new int[n+1];
        Arrays.fill(dp,-1);
        dp[n] = 0;
        //ä»n-1 -> 0å¤„é€†åºæ±‚è§£çš„è¿‡ç¨‹
        for(int i=n-1;i>=0;i--){

            //è€æ ·å­æšä¸¾
            int ans = Integer.MAX_VALUE;
            for(int k=0,j=i;k<3;k++){
                while(j<days.length && days[i] + durations[k] > days[j]) j++;
                ans = Math.min(ans, costs[k] + dp[j]);//é€’å½’å‡½æ•°æ”¹ä¸ºdpè¡¨ä¸­è¯»å€¼
            }
            dp[i]  =ans;//æ›´æ–°
        }
        return dp[0];
    }

```


æ ¹æ®åŠ›æ‰£æœ¬é¢˜çš„èŒƒå›´æä¸€ä¸ªå…¨å±€çš„dpè¡¨ã€‚
```java
//è§£æ³•4
    //æäº¤æ—¶ä¿®æ”¹å‡½æ•°åä¸º mincostTickets
    //æ ¹æ®æœ¬é¢˜èŒƒå›´çš„æœ€ä¼˜è§£
    public static int MAX = 366;
    public static int[] dp = new int[MAX];
    public static int mincostTickets4(int[] days,int[] costs){
        int n = days.length;
        Arrays.fill(dp,0,n+1,-1);
        dp[n] = 0;
        //ä»n-1 -> 0å¤„é€†åºæ±‚è§£çš„è¿‡ç¨‹
        for(int i=n-1;i>=0;i--){

            int ans = Integer.MAX_VALUE;
            for(int k=0,j=i;k<3;k++){
                while(j<days.length && days[i] + durations[k] > days[j]) j++;
                ans = Math.min(ans, costs[k] + dp[j]);//é€’å½’å‡½æ•°æ”¹ä¸ºdpè¡¨ä¸­è¯»å€¼
            }
            dp[i]  =ans;//æ›´æ–°
        }
        return dp[0];
    }

```